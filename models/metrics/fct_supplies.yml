semantic_models:
  - name: supplies
    defaults:
      agg_time_dimension: ordered_at
    description: |
      Supplies fact table. This table contains product-level supply costs.
    model: ref('fct_supplies')

    entities:
      - name: product_id
        type: primary

    measures:
      - name: supply_cost_total
        expr: supply_cost
        agg: sum
      - name: avg_supply_cost
        expr: supply_cost
        agg: avg
      - name: max_supply_cost
        expr: supply_cost
        agg: max

metrics:
  - name: supply_cost_total
    description: "Total supply cost across all products"
    type: simple
    label: "Total Supply Cost"
    type_params:
      measure: supply_cost_total
  - name: avg_supply_cost
    description: "Average supply cost per product"
    type: simple
    label: "Avg Supply Cost"
    type_params:
      measure: avg_supply_cost
  - name: max_supply_cost
    description: "Maximum supply cost for a single product"
    type: simple
    label: "Max Supply Cost"
    type_params:
      measure: max_supply_cost
